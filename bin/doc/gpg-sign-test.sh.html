<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>gpg-sign-test.sh</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME-sshagent-test">NAME sshagent-test</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#OPTIONS">OPTIONS</a></li>
  <li><a href="#ENVIRONMENT">ENVIRONMENT</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
  <li><a href="#NOTES">NOTES</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#HISTORY">HISTORY</a></li>
</ul>

<hr/>

<h1 id="NAME-sshagent-test">NAME sshagent-test</h1>

<p>Test the sshagent script.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>    sshagent-test -T all
    sshagent-test -T list
    sshagent-test [-h] [-H pStyle] [-T pTest]</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This script is used to test the sshagent script. See the Notes section for how to set it up and the dependent scipts.</p>

<h1 id="OPTIONS">OPTIONS</h1>

<dl>

<dt id="h"><b>-h</b></dt>
<dd>

<p>Output this &quot;long&quot; usage help. See &quot;-H long&quot;</p>

</dd>
<dt id="H-pStyle"><b>-H pStyle</b></dt>
<dd>

<p>pStyle is used to select the type of help and how it is formatted.</p>

<p>Styles:</p>

<pre><code>    short|usage - Output short usage help as text.
    long|text   - Output long usage help as text.
    man         - Output long usage help as a man page.
    html        - Output long usage help as html.
    md          - Output long usage help as markdown.</code></pre>

</dd>
<dt id="T-pTest"><b>-T &quot;pTest&quot;</b></dt>
<dd>

<p>&quot;<b>-T all</b>&quot; will run all of the functions that begin with &quot;test&quot;.</p>

<p>&quot;<b>-T list</b>&quot; will list all of the test functions.</p>

<p>Otherwise, <b>pTest</b> should be a space separated list of test function names, between the quotes.</p>

</dd>
</dl>

<h1 id="ENVIRONMENT">ENVIRONMENT</h1>

<p>HOME, USER</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>ssh-agent, ssh, ssh-askpass, shunit2.1, shellcheck</p>

<h1 id="NOTES">NOTES</h1>

<ul>

<li><p>For more details about shunit2 (or shunit2.1), see shunit2/shunit2-manual.html <a href="https://github.com/kward/shunit2">Source</a></p>

<p>shunit2.1 has a minor change to fix up colors when background is not black.</p>

</li>
<li><p>The latest versions of sshagent, sshagent-test, and shunit2.1 can be found at: <a href="https://github.com/TurtleEngr/my-utility-scripts/tree/main/bin">github TurtleEngr</a></p>

</li>
<li><p>sshagent-test will kill all of your running ssh-agent processes before and after running.</p>

</li>
<li><p>sshagent-test requires a non X11 /bin/ssh-askpass</p>

<p>Create this substitute:</p>

<pre><code>    cat &lt;&lt;EOF &gt;~/bin/ssh-askpass
    #!/bin/bash
    read -t 5 -p &quot;ssh password? &quot;
    echo $REPLY
    EOF
    chmod a+rx,go-w ~/bin/ssh-askpass</code></pre>

<p>You can replace the system&#39;s ssh-askpass, or you can change your path so it finds ssh-askpass in your bin dir.</p>

<dl>

<dt id="Replace-the-systems-ssh-askpass.-As-root">1. Replace the system&#39;s ssh-askpass. As root:</dt>
<dd>

<pre><code>   sudo -s
   mv -i /usr/bin/ssh-askpass /usr/bin/ssh-askpass.sav
   cp /home/$SUDO_USER/bin/ssh-askpass /usr/bin
   chmod a+rx,go-w /usr/bin/ssh-askpass
   exit</code></pre>

</dd>
<dt id="Change-your-path-so-bin-is-look-in-first">2. Change your path so ~/bin is look in first:</dt>
<dd>

<pre><code>   ed ~/.bash_profile
   PATH=$HOME/bin:$PATH</code></pre>

<p>If you still get the ssh-askass popup, you&#39;ll need to use option 1, or you can give the test key&#39;s password &#39;foobar&#39; at every prompt.</p>

</dd>
</dl>

</li>
</ul>

<h1 id="AUTHOR">AUTHOR</h1>

<p>TurtleEngr</p>

<h1 id="HISTORY">HISTORY</h1>

<p>$Revision: 1.13 $ $Date: 2024/11/22 20:28:18 $ GMT</p>


</body>

</html>


